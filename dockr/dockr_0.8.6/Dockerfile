# load rocker base-R image
FROM rocker/r-ver:4.2.0

# install specific versions of CRAN packages from MRAN snapshots
RUN R -e 'install.packages("remotes")'
RUN R -e 'remotes::install_version("askpass", "1.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("base64enc", "0.1-3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("brew", "1.0-8", dependencies = FALSE)'
RUN R -e 'remotes::install_version("brio", "1.1.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("bslib", "0.4.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("cachem", "1.0.6", dependencies = FALSE)'
RUN R -e 'remotes::install_version("callr", "3.7.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("clipr", "0.8.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("commonmark", "1.8.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("cpp11", "0.4.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("crayon", "1.5.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("credentials", "1.3.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("curl", "4.3.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("desc", "1.4.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("devtools", "2.4.5", dependencies = FALSE)'
RUN R -e 'remotes::install_version("diffobj", "0.3.5", dependencies = FALSE)'
RUN R -e 'remotes::install_version("digest", "0.6.31", dependencies = FALSE)'
RUN R -e 'remotes::install_version("downlit", "0.4.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("ellipsis", "0.3.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("evaluate", "0.19", dependencies = FALSE)'
RUN R -e 'remotes::install_version("fansi", "1.0.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("fastmap", "1.1.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("fontawesome", "0.4.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("fs", "1.5.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("gert", "1.9.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("gh", "1.3.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("gitcreds", "0.1.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("glue", "1.6.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("gtools", "3.9.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("highr", "0.10", dependencies = FALSE)'
RUN R -e 'remotes::install_version("htmltools", "0.5.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("httpuv", "1.6.7", dependencies = FALSE)'
RUN R -e 'remotes::install_version("httr", "1.4.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("ini", "0.3.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("jquerylib", "0.1.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("jsonlite", "1.8.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("knitr", "1.41", dependencies = FALSE)'
RUN R -e 'remotes::install_version("later", "1.3.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("lifecycle", "1.0.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("magrittr", "2.0.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("memoise", "2.0.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("mime", "0.12", dependencies = FALSE)'
RUN R -e 'remotes::install_version("miniUI", "0.1.1.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("openssl", "2.0.5", dependencies = FALSE)'
RUN R -e 'remotes::install_version("pillar", "1.8.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("pkgbuild", "1.4.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("pkgconfig", "2.0.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("pkgdown", "2.0.7", dependencies = FALSE)'
RUN R -e 'remotes::install_version("pkgload", "1.3.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("praise", "1.0.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("prettyunits", "1.1.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("processx", "3.8.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("profvis", "0.3.7", dependencies = FALSE)'
RUN R -e 'remotes::install_version("promises", "1.2.0.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("ps", "1.7.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("R6", "2.5.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("ragg", "1.2.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("rappdirs", "0.3.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("rcmdcheck", "1.4.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("Rcpp", "1.0.9", dependencies = FALSE)'
RUN R -e 'remotes::install_version("rematch2", "2.1.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("remotes", "2.4.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("rlang", "1.0.6", dependencies = FALSE)'
RUN R -e 'remotes::install_version("rmarkdown", "2.19", dependencies = FALSE)'
RUN R -e 'remotes::install_version("roxygen2", "7.2.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("rprojroot", "2.0.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("rstudioapi", "0.14", dependencies = FALSE)'
RUN R -e 'remotes::install_version("rversions", "2.1.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("sass", "0.4.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("sessioninfo", "1.2.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("shiny", "1.7.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("sourcetools", "0.1.7", dependencies = FALSE)'
RUN R -e 'remotes::install_version("stringr", "1.5.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("sys", "3.4.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("systemfonts", "1.0.4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("testthat", "3.1.6", dependencies = FALSE)'
RUN R -e 'remotes::install_version("textshaping", "0.3.6", dependencies = FALSE)'
RUN R -e 'remotes::install_version("tibble", "3.1.8", dependencies = FALSE)'
RUN R -e 'remotes::install_version("tinytex", "0.43", dependencies = FALSE)'
RUN R -e 'remotes::install_version("urlchecker", "1.0.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("usethis", "2.1.6", dependencies = FALSE)'
RUN R -e 'remotes::install_version("utf8", "1.2.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("vctrs", "0.5.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("waldo", "0.4.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("whisker", "0.4.1", dependencies = FALSE)'
RUN R -e 'remotes::install_version("withr", "2.5.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("xfun", "0.36", dependencies = FALSE)'
RUN R -e 'remotes::install_version("xml2", "1.3.3", dependencies = FALSE)'
RUN R -e 'remotes::install_version("xopen", "1.0.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("xtable", "1.8-4", dependencies = FALSE)'
RUN R -e 'remotes::install_version("yaml", "2.3.6", dependencies = FALSE)'
RUN R -e 'remotes::install_version("zip", "2.2.2", dependencies = FALSE)'
RUN R -e 'remotes::install_version("cli", "3.5.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("htmlwidgets", "1.6.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("purrr", "1.0.0", dependencies = FALSE)'
RUN R -e 'remotes::install_version("stringi", "1.7.8", dependencies = FALSE)'

# copy source packages (*.tar.gz) to container
COPY source_packages /source_packages

# install 'dockr' package
RUN R -e 'install.packages(pkgs = "source_packages/dockr_0.8.6.tar.gz", repos = NULL)'

